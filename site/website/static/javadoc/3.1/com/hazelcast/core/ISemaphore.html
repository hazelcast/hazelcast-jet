<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_162) on Mon Jun 24 08:21:28 UTC 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ISemaphore (hazelcast-jet-distribution 3.1 API)</title>
<meta name="date" content="2019-06-24">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ISemaphore (hazelcast-jet-distribution 3.1 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ISemaphore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/hazelcast/core/IQueue.html" title="interface in com.hazelcast.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/hazelcast/core/ISet.html" title="interface in com.hazelcast.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/hazelcast/core/ISemaphore.html" target="_top">Frames</a></li>
<li><a href="ISemaphore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.hazelcast.core</div>
<h2 title="Interface ISemaphore" class="title">Interface ISemaphore</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../com/hazelcast/core/DistributedObject.html" title="interface in com.hazelcast.core">DistributedObject</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../com/hazelcast/concurrent/semaphore/SemaphoreProxy.html" title="class in com.hazelcast.concurrent.semaphore">SemaphoreProxy</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">ISemaphore</span>
extends <a href="../../../com/hazelcast/core/DistributedObject.html" title="interface in com.hazelcast.core">DistributedObject</a></pre>
<div class="block">ISemaphore is a fault-tolerant distributed alternative to the
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Semaphore.html?is-external=true" title="class or interface in java.util.concurrent"><code>Semaphore</code></a>. Semaphores are often used to restrict the number of
 threads than can access some physical or logical resource.
 <p>
 ISemaphore is a cluster-wide counting semaphore. Conceptually, it maintains
 a set of permits. Each <a href="../../../com/hazelcast/core/ISemaphore.html#acquire--"><code>acquire()</code></a> blocks if necessary until a permit
 is available, and then takes it. Dually, each <a href="../../../com/hazelcast/core/ISemaphore.html#release--"><code>release()</code></a> adds a
 permit, potentially releasing a blocking acquirer. However, no actual permit
 objects are used; the semaphore just keeps a count of the number available
 and acts accordingly.
 <p>
 Hazelcast's distributed semaphore implementation guarantees that threads
 invoking any of the <a href="../../../com/hazelcast/core/ISemaphore.html#acquire--"><code>acquire</code></a> methods are selected to
 obtain permits in the order of their invocations (first-in-first-out; FIFO).
 Note that FIFO ordering implies the order which the primary replica of an
 <a href="../../../com/hazelcast/core/ISemaphore.html" title="interface in com.hazelcast.core"><code>ISemaphore</code></a> receives these acquire requests. Therefore, it is
 possible for one member to invoke <code>acquire</code> before another member,
 but its request hits the primary replica after the other member.
 <p>
 This class also provides convenience methods, such as
 <a href="../../../com/hazelcast/core/ISemaphore.html#acquire-int-"><code>acquire</code></a> and <a href="../../../com/hazelcast/core/ISemaphore.html#release-int-"><code>release</code></a>, to work
 with multiple permits at once. Beware of the increased risk of
 indefinite postponement when using the multiple-permit acquire. If permits
 are released one by one, a thread waiting for one permit will acquire
 it before a thread waiting for multiple permits regardless of the call order.
 <p>
 Correct usage of a semaphore is established by programming convention
 in the application.
 <p>
 As of version 3.12, Hazelcast offers 2 different <a href="../../../com/hazelcast/core/ISemaphore.html" title="interface in com.hazelcast.core"><code>ISemaphore</code></a> impls.
 Behaviour of <a href="../../../com/hazelcast/core/ISemaphore.html" title="interface in com.hazelcast.core"><code>ISemaphore</code></a> under failure scenarios, including network
 partitions, depends on the impl. The first impl is the one accessed via
 <a href="../../../com/hazelcast/core/HazelcastInstance.html#getSemaphore-java.lang.String-"><code>HazelcastInstance.getSemaphore(String)</code></a>. It works on top of
 Hazelcast's async replication algorithm and does not guarantee
 linearizability during failures. During a split-brain scenario, this impl
 loses its atomicity. It is possible for the same <a href="../../../com/hazelcast/core/ISemaphore.html" title="interface in com.hazelcast.core"><code>ISemaphore</code></a> instance
 to exist in each side of the network partition and therefore the permit
 counters can diverge. When the cluster heals, Hazelcast will choose one of
 the <a href="../../../com/hazelcast/core/ISemaphore.html" title="interface in com.hazelcast.core"><code>ISemaphore</code></a> instances. By default, it is selected from the
 largest partitioned cluster (by number of members). If the cluster sizes are
 all equal, then a random <a href="../../../com/hazelcast/core/ISemaphore.html" title="interface in com.hazelcast.core"><code>ISemaphore</code></a> instance will be chosen.
 <p/>
 This <a href="../../../com/hazelcast/core/ISemaphore.html" title="interface in com.hazelcast.core"><code>ISemaphore</code></a> impl also supports Quorum <a href="../../../com/hazelcast/config/QuorumConfig.html" title="class in com.hazelcast.config"><code>QuorumConfig</code></a>
 in cluster versions 3.10 and higher. However, Hazelcast quorums do not
 guarantee strong consistency under failure scenarios.
 <p>
 The second impl is a new one introduced with the <a href="../../../com/hazelcast/cp/CPSubsystem.html" title="interface in com.hazelcast.cp"><code>CPSubsystem</code></a> in
 version 3.12. It is accessed via <a href="../../../com/hazelcast/cp/CPSubsystem.html#getSemaphore-java.lang.String-"><code>CPSubsystem.getSemaphore(String)</code></a>.
 It has a major difference to the old implementation, that is, it works on
 top of the Raft consensus algorithm. It offers linearizability during crash
 failures and network partitions. It is CP with respect to the CAP principle.
 If a network partition occurs, it remains available on at most one side of
 the partition.
 <p>
 The new CP impl has 2 variations:
 <ul>
 <li>
 The default impl accessed via <a href="../../../com/hazelcast/cp/CPSubsystem.html" title="interface in com.hazelcast.cp"><code>CPSubsystem</code></a> is session-aware. In this
 one, when a caller makes its very first <a href="../../../com/hazelcast/core/ISemaphore.html#acquire--"><code>acquire()</code></a> call, it starts
 a new CP session with the underlying CP group. Then, liveliness of the
 caller is tracked via this CP session. When the caller fails, permits
 acquired by this caller are automatically and safely released. However,
 the session-aware version comes with a limitation, that is,
 a HazelcastInstance cannot release permits before acquiring them
 first. In other words, a HazelcastInstance can release only
 the permits it has acquired earlier. It means, you can acquire a permit
 from one thread and release it from another thread using the same
 HazelcastInstance, but not different instances of HazelcastInstance. This
 behaviour is not compatible with <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Semaphore.html?is-external=true#release--" title="class or interface in java.util.concurrent"><code>Semaphore.release()</code></a>. You can use
 the session-aware CP <a href="../../../com/hazelcast/core/ISemaphore.html" title="interface in com.hazelcast.core"><code>ISemaphore</code></a> impl by disabling JDK compatibility
 via <a href="../../../com/hazelcast/config/cp/CPSemaphoreConfig.html#setJDKCompatible-boolean-"><code>CPSemaphoreConfig.setJDKCompatible(boolean)</code></a>. Although
 the session-aware impl has a minor difference to the JDK Semaphore, we think
 it is a better fit for distributed environments because of its safe
 auto-cleanup mechanism for acquired permits. Please see
 <a href="../../../com/hazelcast/cp/session/CPSession.html" title="interface in com.hazelcast.cp.session"><code>CPSession</code></a> for the rationale behind the session mechanism.
 </li>
 <li>
 The second impl offered by <a href="../../../com/hazelcast/cp/CPSubsystem.html" title="interface in com.hazelcast.cp"><code>CPSubsystem</code></a> is sessionless. This impl
 does not perform auto-cleanup of acquired permits on failures. Acquired
 permits are not bound to threads and permits can be released without
 acquiring first. This one is compatible with <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Semaphore.html?is-external=true#release--" title="class or interface in java.util.concurrent"><code>Semaphore.release()</code></a>.
 However, you need to handle failed permit owners on your own. If a Hazelcast
 server or a client fails while holding some permits, they will not be
 automatically released. You can use the sessionless CP <a href="../../../com/hazelcast/core/ISemaphore.html" title="interface in com.hazelcast.core"><code>ISemaphore</code></a>
 impl by enabling JDK compatibility via
 <a href="../../../com/hazelcast/config/cp/CPSemaphoreConfig.html#setJDKCompatible-boolean-"><code>CPSemaphoreConfig.setJDKCompatible(boolean)</code></a>.
 </li>
 </ul>
 <p>
 There is a subtle difference between the lock and semaphore abstractions.
 A lock can be assigned to at most one endpoint at a time, so we have a total
 order among its holders. However, permits of a semaphore can be assigned to
 multiple endpoints at a time, which implies that we may not have a total
 order among permit holders. In fact, permit holders are partially ordered.
 For this reason, the fencing token approach, which is explained in
 <a href="../../../com/hazelcast/cp/lock/FencedLock.html" title="interface in com.hazelcast.cp.lock"><code>FencedLock</code></a>, does not work for the semaphore abstraction. Moreover,
 each permit is an independent entity. Multiple permit acquires and reentrant
 lock acquires of a single endpoint are not equivalent. The only case where
 a semaphore behaves like a lock is the binary case, where the semaphore has
 only 1 permit. In this case, the semaphore works like a non-reentrant lock.
 <p>
 All of the API methods in the new CP <a href="../../../com/hazelcast/core/ISemaphore.html" title="interface in com.hazelcast.core"><code>ISemaphore</code></a> impl offer
 the exactly-once execution semantics for the session-aware version.
 For instance, even if a <a href="../../../com/hazelcast/core/ISemaphore.html#release--"><code>release()</code></a> call is internally retried
 because of a crashed Hazelcast member, the permit is released only once.
 However, this guarantee is not given for the sessionless, a.k.a,
 JDK-compatible CP <a href="../../../com/hazelcast/core/ISemaphore.html" title="interface in com.hazelcast.core"><code>ISemaphore</code></a>. For this version, you can tune
 execution semantics via
 <a href="../../../com/hazelcast/config/cp/CPSubsystemConfig.html#setFailOnIndeterminateOperationState-boolean-"><code>CPSubsystemConfig.setFailOnIndeterminateOperationState(boolean)</code></a>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hazelcast/core/ISemaphore.html#acquire--">acquire</a></span>()</code>
<div class="block">Acquires a permit if one is available, and returns immediately,
 reducing the number of available permits by one.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hazelcast/core/ISemaphore.html#acquire-int-">acquire</a></span>(int&nbsp;permits)</code>
<div class="block">Acquires the given number of permits if they are available,
 and returns immediately, reducing the number of available permits
 by the given amount.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hazelcast/core/ISemaphore.html#availablePermits--">availablePermits</a></span>()</code>
<div class="block">Returns the current number of permits currently available in this semaphore.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hazelcast/core/ISemaphore.html#drainPermits--">drainPermits</a></span>()</code>
<div class="block">Acquires and returns all permits that are available at invocation time.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hazelcast/core/ISemaphore.html#getName--">getName</a></span>()</code>
<div class="block">Returns the name of this ISemaphore instance.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hazelcast/core/ISemaphore.html#increasePermits-int-">increasePermits</a></span>(int&nbsp;increase)</code>
<div class="block">Increases the number of available permits by the indicated amount.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hazelcast/core/ISemaphore.html#init-int-">init</a></span>(int&nbsp;permits)</code>
<div class="block">Tries to initialize this ISemaphore instance with the given permit count</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hazelcast/core/ISemaphore.html#reducePermits-int-">reducePermits</a></span>(int&nbsp;reduction)</code>
<div class="block">Reduces the number of available permits by the indicated amount.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hazelcast/core/ISemaphore.html#release--">release</a></span>()</code>
<div class="block">Releases a permit and increases the number of available permits by one.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hazelcast/core/ISemaphore.html#release-int-">release</a></span>(int&nbsp;permits)</code>
<div class="block">Releases the given number of permits and increases the number of
 available permits by that amount.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hazelcast/core/ISemaphore.html#tryAcquire--">tryAcquire</a></span>()</code>
<div class="block">Acquires a permit if one is available, and returns <code>true</code>
 immediately.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hazelcast/core/ISemaphore.html#tryAcquire-int-">tryAcquire</a></span>(int&nbsp;permits)</code>
<div class="block">Acquires the given number of permits if they are available, and
 returns <code>true</code> immediately.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hazelcast/core/ISemaphore.html#tryAcquire-int-long-java.util.concurrent.TimeUnit-">tryAcquire</a></span>(int&nbsp;permits,
          long&nbsp;timeout,
          <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)</code>
<div class="block">Acquires the given number of permits and returns <code>true</code>, if they
 become available during the given waiting time.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hazelcast/core/ISemaphore.html#tryAcquire-long-java.util.concurrent.TimeUnit-">tryAcquire</a></span>(long&nbsp;timeout,
          <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)</code>
<div class="block">Acquires a permit and returns <code>true</code>, if one becomes available
 during the given waiting time and the current thread has not been
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt--" title="class or interface in java.lang">interrupted</a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.hazelcast.core.DistributedObject">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.hazelcast.core.<a href="../../../com/hazelcast/core/DistributedObject.html" title="interface in com.hazelcast.core">DistributedObject</a></h3>
<code><a href="../../../com/hazelcast/core/DistributedObject.html#destroy--">destroy</a>, <a href="../../../com/hazelcast/core/DistributedObject.html#getPartitionKey--">getPartitionKey</a>, <a href="../../../com/hazelcast/core/DistributedObject.html#getServiceName--">getServiceName</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getName()</pre>
<div class="block">Returns the name of this ISemaphore instance.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/hazelcast/core/DistributedObject.html#getName--">getName</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/hazelcast/core/DistributedObject.html" title="interface in com.hazelcast.core">DistributedObject</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>name of this instance</dd>
</dl>
</li>
</ul>
<a name="init-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>boolean&nbsp;init(int&nbsp;permits)</pre>
<div class="block">Tries to initialize this ISemaphore instance with the given permit count</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>permits</code> - the given permit count</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if initialization success. false if already initialized</dd>
</dl>
</li>
</ul>
<a name="acquire--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquire</h4>
<pre>void&nbsp;acquire()
      throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Acquires a permit if one is available, and returns immediately,
 reducing the number of available permits by one.
 <p>
 If no permit is available, then the current thread becomes
 disabled for thread scheduling purposes and lies dormant until
 one of three things happens:
 <ul>
 <li>some other thread invokes one of the <a href="../../../com/hazelcast/core/ISemaphore.html#release--"><code>release()</code></a> methods for this
 semaphore and the current thread is next to be assigned a permit,</li>
 <li>this ISemaphore instance is destroyed, or</li>
 <li>some other thread <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt--" title="class or interface in java.lang">interrupts</a>
 the current thread.</li>
 </ul>
 <p>If the current thread:
 <ul>
 <li>has its interrupted status set on entry to this method; or</li>
 <li>is <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt--" title="class or interface in java.lang">interrupted</a> while waiting for a permit,</li>
 </ul>
 then <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang"><code>InterruptedException</code></a> is thrown and the current thread's
 interrupted status is cleared.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the current thread is interrupted</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if hazelcast instance is shutdown while waiting</dd>
</dl>
</li>
</ul>
<a name="acquire-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquire</h4>
<pre>void&nbsp;acquire(int&nbsp;permits)
      throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Acquires the given number of permits if they are available,
 and returns immediately, reducing the number of available permits
 by the given amount.
 <p>
 If insufficient permits are available then the current thread becomes
 disabled for thread scheduling purposes and lies dormant until
 one of three things happens:
 <ul>
 <li>some other thread invokes one of the <a href="../../../com/hazelcast/core/ISemaphore.html#release--"><code>release</code></a>
 methods for this semaphore, the current thread is next to be assigned
 permits and the number of available permits satisfies this request,</li>
 <li>or this ISemaphore instance is destroyed,</li>
 <li>or some other thread <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt--" title="class or interface in java.lang">interrupts</a>
 the current thread.</li>
 </ul>
 If the current thread:
 <ul>
 <li>has its interrupted status set on entry to this method, or</li>
 <li>is <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt--" title="class or interface in java.lang">interrupted</a> while waiting for a permit,</li>
 </ul>
 then <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang"><code>InterruptedException</code></a> is thrown and the current thread's
 interrupted status is cleared.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>permits</code> - the number of permits to acquire</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the current thread is interrupted</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>permits</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if hazelcast instance is shutdown while waiting</dd>
</dl>
</li>
</ul>
<a name="availablePermits--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>availablePermits</h4>
<pre>int&nbsp;availablePermits()</pre>
<div class="block">Returns the current number of permits currently available in this semaphore.
 <p>
 This method is typically used for debugging and testing purposes.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of permits available in this semaphore</dd>
</dl>
</li>
</ul>
<a name="drainPermits--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>drainPermits</h4>
<pre>int&nbsp;drainPermits()</pre>
<div class="block">Acquires and returns all permits that are available at invocation time.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of permits drained</dd>
</dl>
</li>
</ul>
<a name="reducePermits-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reducePermits</h4>
<pre>void&nbsp;reducePermits(int&nbsp;reduction)</pre>
<div class="block">Reduces the number of available permits by the indicated amount. This
 method differs from <code>acquire</code> as it does not block until permits
 become available. Similarly, if the caller has acquired some permits,
 they are not released with this call.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reduction</code> - the number of permits to reduce</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>reduction</code> is negative</dd>
</dl>
</li>
</ul>
<a name="increasePermits-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>increasePermits</h4>
<pre>void&nbsp;increasePermits(int&nbsp;increase)</pre>
<div class="block">Increases the number of available permits by the indicated amount. If
 there are some threads waiting for permits to become available, they
 will be notified. Moreover, if the caller has acquired some permits,
 they are not released with this call.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>increase</code> - the number of permits to increase</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>increase</code> is negative</dd>
</dl>
</li>
</ul>
<a name="release--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>void&nbsp;release()</pre>
<div class="block">Releases a permit and increases the number of available permits by one.
 If some threads in the cluster are blocked for acquiring a permit, one
 of them will unblock by acquiring the permit released by this call.
 <p>
 If the underlying <a href="../../../com/hazelcast/core/ISemaphore.html" title="interface in com.hazelcast.core"><code>ISemaphore</code></a> impl is the non-JDK compatible
 CP impl that is configured via <a href="../../../com/hazelcast/config/cp/CPSemaphoreConfig.html" title="class in com.hazelcast.config.cp"><code>CPSemaphoreConfig</code></a> and fetched
 via <a href="../../../com/hazelcast/cp/CPSubsystem.html" title="interface in com.hazelcast.cp"><code>CPSubsystem</code></a>, then a thread can only release a permit which
 it has acquired before. In other words, a thread cannot release a permit
 without acquiring it first.
 <p>
 Otherwise, which means the underlying impl is either the JDK compatible
 CP impl configured via <a href="../../../com/hazelcast/config/cp/CPSemaphoreConfig.html" title="class in com.hazelcast.config.cp"><code>CPSemaphoreConfig</code></a> and fetched
 via <a href="../../../com/hazelcast/cp/CPSubsystem.html" title="interface in com.hazelcast.cp"><code>CPSubsystem</code></a>, or it is the old impl fetched via
 <a href="../../../com/hazelcast/core/HazelcastInstance.html#getSemaphore-java.lang.String-"><code>HazelcastInstance.getSemaphore(String)</code></a>, there is no requirement
 that a thread that releases a permit must have acquired that permit by
 calling one of the <a href="../../../com/hazelcast/core/ISemaphore.html#acquire--"><code>acquire()</code></a> methods. A thread can freely
 release a permit without acquiring it first. In this case, correct usage
 of a semaphore is established by programming convention in the application.</div>
</li>
</ul>
<a name="release-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>void&nbsp;release(int&nbsp;permits)</pre>
<div class="block">Releases the given number of permits and increases the number of
 available permits by that amount. If some threads in the cluster are
 blocked for acquiring permits, they will be notified.
 <p>
 If the underlying <a href="../../../com/hazelcast/core/ISemaphore.html" title="interface in com.hazelcast.core"><code>ISemaphore</code></a> impl is the non-JDK compatible
 CP impl that is configured via <a href="../../../com/hazelcast/config/cp/CPSemaphoreConfig.html" title="class in com.hazelcast.config.cp"><code>CPSemaphoreConfig</code></a> and fetched
 via <a href="../../../com/hazelcast/cp/CPSubsystem.html" title="interface in com.hazelcast.cp"><code>CPSubsystem</code></a>, then a thread can only release a permit which
 it has acquired before. In other words, a thread cannot release a permit
 without acquiring it first.
 <p>
 Otherwise, which means the underlying impl is either the JDK compatible
 CP impl configured via <a href="../../../com/hazelcast/config/cp/CPSemaphoreConfig.html" title="class in com.hazelcast.config.cp"><code>CPSemaphoreConfig</code></a> and fetched
 via <a href="../../../com/hazelcast/cp/CPSubsystem.html" title="interface in com.hazelcast.cp"><code>CPSubsystem</code></a>, or it is the old impl fetched via
 <a href="../../../com/hazelcast/core/HazelcastInstance.html#getSemaphore-java.lang.String-"><code>HazelcastInstance.getSemaphore(String)</code></a>, there is no requirement
 that a thread that releases a permit must have acquired that permit by
 calling one of the <a href="../../../com/hazelcast/core/ISemaphore.html#acquire--"><code>acquire()</code></a> methods. A thread can freely
 release a permit without acquiring it first. In this case, correct usage
 of a semaphore is established by programming convention in the application.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>permits</code> - the number of permits to release</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>permits</code> is negative</dd>
</dl>
</li>
</ul>
<a name="tryAcquire--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryAcquire</h4>
<pre>boolean&nbsp;tryAcquire()</pre>
<div class="block">Acquires a permit if one is available, and returns <code>true</code>
 immediately. If no permit is available, returns <code>false</code>
 immediately.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if a permit was acquired, <code>false</code> otherwise</dd>
</dl>
</li>
</ul>
<a name="tryAcquire-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryAcquire</h4>
<pre>boolean&nbsp;tryAcquire(int&nbsp;permits)</pre>
<div class="block">Acquires the given number of permits if they are available, and
 returns <code>true</code> immediately. If the requested number of permits are
 not available, returns <code>false</code> immediately.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>permits</code> - the number of permits to acquire</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the permits were acquired, <code>false</code> otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>permits</code> is negative</dd>
</dl>
</li>
</ul>
<a name="tryAcquire-long-java.util.concurrent.TimeUnit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryAcquire</h4>
<pre>boolean&nbsp;tryAcquire(long&nbsp;timeout,
                   <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)
            throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Acquires a permit and returns <code>true</code>, if one becomes available
 during the given waiting time and the current thread has not been
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt--" title="class or interface in java.lang">interrupted</a>. If a permit is acquired,
 the number of available permits in the <a href="../../../com/hazelcast/core/ISemaphore.html" title="interface in com.hazelcast.core"><code>ISemaphore</code></a> instance is
 also reduced by one.
 <p>
 If no permit is available, then the current thread becomes
 disabled for thread scheduling purposes and lies dormant until
 one of three things happens:
 <ul>
 <li>some other thread releases a permit and the current thread is next
 to be assigned a permit,</li>
 <li>or this ISemaphore instance is destroyed,</li>
 <li>or some other thread <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt--" title="class or interface in java.lang">interrupts</a>
 the current thread,</li>
 <li>or the specified waiting time elapses.</li>
 </ul>
 <p>
 Returns <code>true</code> if a permit is successfully acquired.
 <p>
 Returns <code>false</code> if the specified waiting time elapses without
 acquiring a permit. If the time is less than or equal to zero,
 the method will not wait at all.
 <p>
 If the current thread:
 <ul>
 <li>has its interrupted status set on entry to this method,</li>
 <li>or is <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt--" title="class or interface in java.lang">interrupted</a> while waiting for
 a permit,</li>
 </ul>
 then <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang"><code>InterruptedException</code></a> is thrown and the current thread's
 interrupted status is cleared.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeout</code> - the maximum time to wait for a permit</dd>
<dd><code>unit</code> - the time unit of the <code>timeout</code> argument</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if a permit was acquired and <code>false</code>
 if the waiting time elapsed before a permit was acquired</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the current thread is interrupted</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if hazelcast instance is shutdown while waiting</dd>
</dl>
</li>
</ul>
<a name="tryAcquire-int-long-java.util.concurrent.TimeUnit-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>tryAcquire</h4>
<pre>boolean&nbsp;tryAcquire(int&nbsp;permits,
                   long&nbsp;timeout,
                   <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)
            throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Acquires the given number of permits and returns <code>true</code>, if they
 become available during the given waiting time. If permits are acquired,
 the number of available permits in the <a href="../../../com/hazelcast/core/ISemaphore.html" title="interface in com.hazelcast.core"><code>ISemaphore</code></a> instance is
 also reduced by the given amount.
 <p>
 If no sufficient permits are available, then the current thread becomes
 disabled for thread scheduling purposes and lies dormant until one of
 three things happens:
 <ul>
 <li>permits are released by other threads, the current thread is next to
 be assigned permits and the number of available permits satisfies this
 request,</li>
 <li>or some other thread <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt--" title="class or interface in java.lang">interrupts</a>
 the current thread,</li>
 <li>or the specified waiting time elapses.</li>
 </ul>
 Returns <code>true</code> if requested permits are successfully acquired.
 <p>
 Returns <code>false</code> if the specified waiting time elapses without
 acquiring permits. If the time is less than or equal to zero,
 the method will not wait at all.
 <p>
 If the current thread:
 <ul>
 <li>has its interrupted status set on entry to this method,</li>
 <li>or is <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt--" title="class or interface in java.lang">interrupted</a> while waiting for
 a permit,</li>
 </ul>
 then <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang"><code>InterruptedException</code></a> is thrown and the current thread's
 interrupted status is cleared.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>permits</code> - the number of permits to acquire</dd>
<dd><code>timeout</code> - the maximum time to wait for the permits</dd>
<dd><code>unit</code> - the time unit of the <code>timeout</code> argument</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if all permits were acquired,
 <code>false</code> if the waiting time elapsed before all permits could be acquired</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the current thread is interrupted</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>permits</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if hazelcast instance is shutdown while waiting</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ISemaphore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/hazelcast/core/IQueue.html" title="interface in com.hazelcast.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/hazelcast/core/ISet.html" title="interface in com.hazelcast.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/hazelcast/core/ISemaphore.html" target="_top">Frames</a></li>
<li><a href="ISemaphore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019 <a href="http://www.hazelcast.com/">Hazelcast, Inc.</a>. All rights reserved.</small></p>
</body>
</html>
