<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (15) on Mon Feb 01 17:53:40 CET 2021 -->
<title>Job (hazelcast-jet-distribution 4.4 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-02-01">
<meta name="description" content="declaration: package: com.hazelcast.jet, interface: Job">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":18,"i7":6,"i8":18,"i9":6,"i10":6,"i11":6,"i12":18,"i13":6,"i14":6,"i15":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Job.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.hazelcast.jet</a></div>
<h1 title="Interface Job" class="title">Interface Job</h1>
</div>
<section class="description">
<hr>
<pre>public interface <span class="type-name-label">Job</span></pre>
<div class="block">A Jet computation job created by submitting a <a href="core/DAG.html" title="class in com.hazelcast.jet.core"><code>DAG</code></a> or <a href="pipeline/Pipeline.html" title="interface in com.hazelcast.jet.pipeline"><code>Pipeline</code></a>. Once submitted, Jet starts executing the job automatically.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>3.0</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="table-tab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="table-tab" onclick="show(4);">Abstract Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t5" class="table-tab" onclick="show(16);">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#cancel()">cancel</a></span>()</code></th>
<td class="col-last">
<div class="block">Makes a request to cancel this job and returns.</div>
</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code><a href="JobStateSnapshot.html" title="class in com.hazelcast.jet">JobStateSnapshot</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#cancelAndExportSnapshot(java.lang.String)">cancelAndExportSnapshot</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></th>
<td class="col-last">
<div class="block">Exports and saves a state snapshot with the given name,
 and then cancels the job without processing any more data after the
 barrier (graceful cancellation).</div>
</td>
</tr>
<tr class="alt-color" id="i2">
<td class="col-first"><code><a href="JobStateSnapshot.html" title="class in com.hazelcast.jet">JobStateSnapshot</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#exportSnapshot(java.lang.String)">exportSnapshot</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></th>
<td class="col-last">
<div class="block">Exports a state snapshot and saves it under the given
 name.</div>
</td>
</tr>
<tr class="row-color" id="i3">
<td class="col-first"><code><a href="config/JobConfig.html" title="class in com.hazelcast.jet.config">JobConfig</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getConfig()">getConfig</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns the configuration this job was submitted with.</div>
</td>
</tr>
<tr class="alt-color" id="i4">
<td class="col-first"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getFuture()">getFuture</a></span>()</code></th>
<td class="col-last">
<div class="block">Gets the future associated with the job.</div>
</td>
</tr>
<tr class="row-color" id="i5">
<td class="col-first"><code>long</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getId()">getId</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns the ID of this job.</div>
</td>
</tr>
<tr class="alt-color" id="i6">
<td class="col-first"><code>default <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getIdString()">getIdString</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns the string representation of this job's ID.</div>
</td>
</tr>
<tr class="row-color" id="i7">
<td class="col-first"><code><a href="core/metrics/JobMetrics.html" title="class in com.hazelcast.jet.core.metrics">JobMetrics</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getMetrics()">getMetrics</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns a snapshot of the current values of all job-specific metrics.</div>
</td>
</tr>
<tr class="alt-color" id="i8">
<td class="col-first"><code>default <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getName()">getName</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns the name of this job or <code>null</code> if no name was supplied.</div>
</td>
</tr>
<tr class="row-color" id="i9">
<td class="col-first"><code><a href="core/JobStatus.html" title="enum in com.hazelcast.jet.core">JobStatus</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getStatus()">getStatus</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns the current status of this job.</div>
</td>
</tr>
<tr class="alt-color" id="i10">
<td class="col-first"><code>long</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getSubmissionTime()">getSubmissionTime</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns the time when the job was submitted to the cluster.</div>
</td>
</tr>
<tr class="row-color" id="i11">
<td class="col-first"><code><a href="core/JobSuspensionCause.html" title="interface in com.hazelcast.jet.core">JobSuspensionCause</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getSuspensionCause()">getSuspensionCause</a></span>()</code></th>
<td class="col-last">
<div class="block">Return a <a href="core/JobSuspensionCause.html" title="interface in com.hazelcast.jet.core"><code>description of the cause</code></a> that has
 led to the suspension of the job.</div>
</td>
</tr>
<tr class="alt-color" id="i12">
<td class="col-first"><code>default void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#join()">join</a></span>()</code></th>
<td class="col-last">
<div class="block">Waits for the job to complete and throws an exception if the job
 completes with an error.</div>
</td>
</tr>
<tr class="row-color" id="i13">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#restart()">restart</a></span>()</code></th>
<td class="col-last">
<div class="block">Gracefully stops the current execution and schedules a new execution
 with the current member list of the Jet cluster.</div>
</td>
</tr>
<tr class="alt-color" id="i14">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#resume()">resume</a></span>()</code></th>
<td class="col-last">
<div class="block">Resumes a <a href="#suspend()">suspended</a> job.</div>
</td>
</tr>
<tr class="row-color" id="i15">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#suspend()">suspend</a></span>()</code></th>
<td class="col-last">
<div class="block">Gracefully suspends the current execution of the job.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getId()">
<h3>getId</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="member-name">getId</span>()</div>
<div class="block">Returns the ID of this job.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the job has not started yet, and thus has no ID.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getIdString()">
<h3>getIdString</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html" title="class or interface in javax.annotation" class="external-link">@Nonnull</a>
</span><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="member-name">getIdString</span>()</div>
<div class="block">Returns the string representation of this job's ID.</div>
</section>
</li>
<li>
<section class="detail" id="getConfig()">
<h3>getConfig</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html" title="class or interface in javax.annotation" class="external-link">@Nonnull</a>
</span><span class="return-type"><a href="config/JobConfig.html" title="class in com.hazelcast.jet.config">JobConfig</a></span>&nbsp;<span class="member-name">getConfig</span>()</div>
<div class="block">Returns the configuration this job was submitted with. Changes made to the
 returned config object will not have any effect.</div>
</section>
</li>
<li>
<section class="detail" id="getName()">
<h3>getName</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nullable.html" title="class or interface in javax.annotation" class="external-link">@Nullable</a>
</span><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="member-name">getName</span>()</div>
<div class="block">Returns the name of this job or <code>null</code> if no name was supplied.
 <p>
 Jobs can be named through <a href="config/JobConfig.html#setName(java.lang.String)"><code>JobConfig.setName(String)</code></a> prior to submission.</div>
</section>
</li>
<li>
<section class="detail" id="getSubmissionTime()">
<h3>getSubmissionTime</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="member-name">getSubmissionTime</span>()</div>
<div class="block">Returns the time when the job was submitted to the cluster.
 <p>
 The time is assigned by reading <code>System.currentTimeMillis()</code> of
 the master member that executes the job for the first time. It doesn't
 change on restart.</div>
</section>
</li>
<li>
<section class="detail" id="getStatus()">
<h3>getStatus</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html" title="class or interface in javax.annotation" class="external-link">@Nonnull</a>
</span><span class="return-type"><a href="core/JobStatus.html" title="enum in com.hazelcast.jet.core">JobStatus</a></span>&nbsp;<span class="member-name">getStatus</span>()</div>
<div class="block">Returns the current status of this job.</div>
</section>
</li>
<li>
<section class="detail" id="getSuspensionCause()">
<h3>getSuspensionCause</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html" title="class or interface in javax.annotation" class="external-link">@Nonnull</a>
</span><span class="return-type"><a href="core/JobSuspensionCause.html" title="interface in com.hazelcast.jet.core">JobSuspensionCause</a></span>&nbsp;<span class="member-name">getSuspensionCause</span>()</div>
<div class="block">Return a <a href="core/JobSuspensionCause.html" title="interface in com.hazelcast.jet.core"><code>description of the cause</code></a> that has
 led to the suspension of the job. Throws an <code>IllegalStateException</code>
 if the job is not currently suspended.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>4.3</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMetrics()">
<h3>getMetrics</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html" title="class or interface in javax.annotation" class="external-link">@Nonnull</a>
</span><span class="return-type"><a href="core/metrics/JobMetrics.html" title="class in com.hazelcast.jet.core.metrics">JobMetrics</a></span>&nbsp;<span class="member-name">getMetrics</span>()</div>
<div class="block">Returns a snapshot of the current values of all job-specific metrics.
 <p>
 While the job is running the metric values are updated periodically
 (see <a href="../config/BaseMetricsConfig.html#setCollectionFrequencySeconds(int)">metrics
 collection frequency</a>), assuming that both <a href="../config/BaseMetricsConfig.html#setEnabled(boolean)">global metrics collection</a> and <a href="config/JobConfig.html#setMetricsEnabled(boolean)">per-job metrics collection</a> are enabled.
 Otherwise empty metrics will be returned.
 <p>
 Keep in mind that the collections may occur at different times on
 each member, metrics from various members aren't from the same instant.
 <p>
 When a job is restarted (or resumed after being previously suspended)
 the metrics are reset too, their values will reflect only updates
 from the latest execution of the job.
 <p>
 Once a job stops executing (successfully, after a failure, cancellation,
 or temporarily while suspended) the metrics will have their most
 recent values (i.e. the last metric values from the moment before the
 job completed), assuming that
 <a href="config/JobConfig.html#setStoreMetricsAfterJobCompletion(boolean)"><code>metrics
 storage</code></a> was enabled. Otherwise empty metrics will be returned.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>3.2</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFuture()">
<h3>getFuture</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html" title="class or interface in javax.annotation" class="external-link">@Nonnull</a>
</span><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="member-name">getFuture</span>()</div>
<div class="block">Gets the future associated with the job. The returned future is
 not cancellable. To cancel the job, the <a href="#cancel()"><code>cancel()</code></a> method
 should be used.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the job has not started yet.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="join()">
<h3>join</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">join</span>()</div>
<div class="block">Waits for the job to complete and throws an exception if the job
 completes with an error. Does not return if the job gets suspended.
 Never returns for streaming (unbounded) jobs, unless they fail or are
 cancelled.
 <p>
 Shorthand for <code>job.getFuture().join()</code>.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CancellationException.html" title="class or interface in java.util.concurrent" class="external-link">CancellationException</a></code> - if the job was cancelled</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="restart()">
<h3>restart</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="member-name">restart</span>()</div>
<div class="block">Gracefully stops the current execution and schedules a new execution
 with the current member list of the Jet cluster. Can be called to
 manually make use of added members, if <a href="config/JobConfig.html#setAutoScaling(boolean)">auto scaling</a> is disabled. Only a running job
 can be restarted; a suspended job must be <a href="#resume()">resumed</a>.
 <p>
 Conceptually this call is equivalent to <a href="#suspend()"><code>suspend()</code></a> & <a href="#resume()"><code>resume()</code></a>.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the job is not running, for example it
 has already completed, is not yet running, is already restarting,
 suspended etc.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="suspend()">
<h3>suspend</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="member-name">suspend</span>()</div>
<div class="block">Gracefully suspends the current execution of the job. The job's status
 will become <a href="core/JobStatus.html#SUSPENDED"><code>JobStatus.SUSPENDED</code></a>. To resume the job, call <a href="#resume()"><code>resume()</code></a>.
 <p>
 You can suspend a job even if it's not configured for <a href="config/JobConfig.html#setProcessingGuarantee(com.hazelcast.jet.config.ProcessingGuarantee)">snapshotting</a>. Such a job will resume
 with empty state, as if it has just been started.
 <p>
 This call just initiates the suspension process and doesn't wait for it
 to complete. Suspension starts with creating a terminal state snapshot.
 Should the terminal snapshot fail, the job will suspend anyway, but the
 previous snapshot (if there was one) won't be deleted. When the job
 resumes, its processing starts from the point of the last snapshot.
 <p>
 <strong>NOTE:</strong> if the cluster becomes unstable (a member leaves or
 similar) while the job is in the process of being suspended, it may end up
 getting immediately restarted. Call <a href="#getStatus()"><code>getStatus()</code></a> to find out and
 possibly try to suspend again.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the job is not running</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="resume()">
<h3>resume</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="member-name">resume</span>()</div>
<div class="block">Resumes a <a href="#suspend()">suspended</a> job. The job will resume from
 the last known successful snapshot, if there is one.
 <p>
 If the job is not suspended, it does nothing.</div>
</section>
</li>
<li>
<section class="detail" id="cancel()">
<h3>cancel</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="member-name">cancel</span>()</div>
<div class="block">Makes a request to cancel this job and returns. The job will complete
 after its execution has stopped on all the nodes. If the job is
 already suspended, Jet will delete its runtime resources and snapshots
 and it won't be able to resume again.
 <p>
 <strong>NOTE:</strong> if the cluster becomes unstable (a member leaves
 or similar) while the job is in the process of cancellation, it may end
 up getting restarted after the cluster has stabilized and won't be
 cancelled. Call <a href="#getStatus()"><code>getStatus()</code></a> to find out and possibly try to
 cancel again.
 <p>
 The job status will be <a href="core/JobStatus.html#FAILED"><code>JobStatus.FAILED</code></a> after cancellation,
 <a href="#join()"><code>join()</code></a> will throw a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CancellationException.html" title="class or interface in java.util.concurrent" class="external-link"><code>CancellationException</code></a>.
 <p>
 See <a href="#cancelAndExportSnapshot(java.lang.String)"><code>cancelAndExportSnapshot(String)</code></a> to cancel with a terminal
 snapshot.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the cluster is not in a state to
 restart the job, for example when coordinator member left and new
 coordinator did not yet load job's metadata.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cancelAndExportSnapshot(java.lang.String)">
<h3>cancelAndExportSnapshot</h3>
<div class="member-signature"><span class="return-type"><a href="JobStateSnapshot.html" title="class in com.hazelcast.jet">JobStateSnapshot</a></span>&nbsp;<span class="member-name">cancelAndExportSnapshot</span>&#8203;(<span class="parameters"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span></div>
<div class="block">Exports and saves a state snapshot with the given name,
 and then cancels the job without processing any more data after the
 barrier (graceful cancellation). It's similar to <a href="#suspend()"><code>suspend()</code></a>
 followed by a <a href="#cancel()"><code>cancel()</code></a>, except that it won't process any more
 data after the snapshot.
 <p>
 You can use the exported snapshot as a starting point for a new job. The
 job doesn't need to execute the same Pipeline as the job that created it,
 it must just be compatible with its state data. To achieve this, use
 <a href="config/JobConfig.html#setInitialSnapshotName(java.lang.String)"><code>JobConfig.setInitialSnapshotName(String)</code></a>.
 <p>
 Unlike <a href="#exportSnapshot(java.lang.String)"><code>exportSnapshot(java.lang.String)</code></a> method, when a snapshot is created using
 this method Jet will commit the external transactions because this
 snapshot is the last one created for the job and it's safe to use it to
 continue the processing.
 <p>
 If the terminal snapshot fails, Jet will suspend this job instead of
 cancelling it.
 <p>
 You can call this method for a suspended job, too: in that case it will
 export the last successful snapshot and cancel the job.
 <p>
 The method call will block until it has fully exported the snapshot, but
 may return before the job has stopped executing.
 <p>
 For more information about "exported state" see <a href="#exportSnapshot(java.lang.String)"><code>exportSnapshot(String)</code></a>.
 <p>
 The job status will be <a href="core/JobStatus.html#FAILED"><code>JobStatus.FAILED</code></a> after cancellation,
 <a href="#join()"><code>join()</code></a> will throw a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CancellationException.html" title="class or interface in java.util.concurrent" class="external-link"><code>CancellationException</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - name of the snapshot. If name is already used, it will be
            overwritten</dd>
<dt>Throws:</dt>
<dd><code><a href="JetException.html" title="class in com.hazelcast.jet">JetException</a></code> - if the job is in an incorrect state: completed,
            cancelled or is in the process of restarting or suspending.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="exportSnapshot(java.lang.String)">
<h3>exportSnapshot</h3>
<div class="member-signature"><span class="return-type"><a href="JobStateSnapshot.html" title="class in com.hazelcast.jet">JobStateSnapshot</a></span>&nbsp;<span class="member-name">exportSnapshot</span>&#8203;(<span class="parameters"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span></div>
<div class="block">Exports a state snapshot and saves it under the given
 name. You can start a new job using the exported state using <a href="config/JobConfig.html#setInitialSnapshotName(java.lang.String)"><code>JobConfig.setInitialSnapshotName(String)</code></a>.
 <p>
 The snapshot will be independent from the job that created it. Jet
 won't automatically delete the IMap it is exported into. You must
 manually call <a href="JobStateSnapshot.html#destroy()">snapshot.destroy()</a>
 to delete it. If your state is large, make sure you have enough memory
 to store it. The snapshot created using this method will also not be
 used for automatic restart - should the job fail, the previous
 automatically saved snapshot will be used.
 <p>
 For transactional sources or sinks (that is those which use transactions
 to confirm reads or to commit writes), Jet will not commit the
 transactions when creating a snapshot using this method. The reason for
 this is that such connectors only achieve exactly-once guarantee if the
 job restarts from the latest snapshot. But, for example, if the job
 fails after exporting a snapshot but before it creates a new automatic
 one, the job would restart from the previous automatic snapshot and the
 stored internal and committed external state will be from a different
 point in time and a data loss will occur.
 <p>
 If a snapshot with the same name already exists, it will be
 overwritten. If a snapshot is already in progress for this job (either
 automatic or user-requested), the requested one will wait and start
 immediately after the previous one completes. If a snapshot with the
 same name is requested for two jobs at the same time, their data will
 likely be damaged (similar to two processes writing to the same file).
 <p>
 You can call this method on a suspended job: in that case it will export
 the last successful snapshot. You can also export the state of
 non-snapshotted jobs (those with <a href="config/ProcessingGuarantee.html#NONE"><code>ProcessingGuarantee.NONE</code></a>).
 <p>
 If you issue any graceful job-control actions such as a graceful member
 shutdown or suspending a snapshotted job while Jet is exporting a
 snapshot, they will wait in a queue for this snapshot to complete.
 Forceful job-control actions will interrupt the export procedure.
 <p>
 You can access the exported state using <a href="JetInstance.html#getJobStateSnapshot(java.lang.String)"><code>JetInstance.getJobStateSnapshot(String)</code></a>.
 <p>
 The method call will block until it has fully exported the snapshot.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - name of the snapshot. If name is already used, it will be
            overwritten</dd>
<dt>Throws:</dt>
<dd><code><a href="JetException.html" title="class in com.hazelcast.jet">JetException</a></code> - if the job is in an incorrect state: completed,
            cancelled or is in the process of restarting or suspending.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Job.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
<p class="legal-copy"><small>Copyright &#169; 2021 <a href="http://www.hazelcast.com/">Hazelcast, Inc.</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
